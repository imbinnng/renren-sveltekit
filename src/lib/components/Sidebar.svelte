<script lang="ts">
  import Button from '$lib/components/ui/button/button.svelte'
  import Card from '$lib/components/ui/card/card.svelte'
  import CardContent from '$lib/components/ui/card/card-content.svelte'
  import CardHeader from '$lib/components/ui/card/card-header.svelte'
  
  export let currentView: string = 'list'
  export let onNavigate: (view: string) => void = () => {}
  
  console.log('Sidebar: currentView =', currentView)
  
  function handleClick(view: string) {
    console.log('Sidebar: clicked', view)
    if (onNavigate) {
      onNavigate(view)
    }
  }
</script>

<Card>
  <CardContent class="p-4">
    <nav class="space-y-1">
      <Button 
        variant="{currentView === 'list' ? 'default' : 'ghost'}"
        class="w-full justify-start"
        style="background-color: {currentView === 'list' ? 'var(--renren-blue)' : ''};"
        on:click={() => handleClick('list')}
      >
        ğŸ  é¦–é¡µ
      </Button>
      <Button 
        variant="{currentView === 'profile' ? 'default' : 'ghost'}"
        class="w-full justify-start"
        style="background-color: {currentView === 'profile' ? 'var(--renren-blue)' : ''};"
        on:click={() => handleClick('profile')}
      >
        ğŸ‘¤ ä¸ªäººä¸»é¡µ
      </Button>
      <Button 
        variant="{currentView === 'friends' ? 'default' : 'ghost'}"
        class="w-full justify-start"
        style="background-color: {currentView === 'friends' ? 'var(--renren-blue)' : ''};"
        on:click={() => handleClick('friends')}
      >
        ğŸ‘¥ å¥½å‹
      </Button>
      <Button 
        variant="{currentView === 'messages' ? 'default' : 'ghost'}"
        class="w-full justify-start"
        style="background-color: {currentView === 'messages' ? 'var(--renren-blue)' : ''};"
        on:click={() => handleClick('messages')}
      >
        ğŸ’¬ æ¶ˆæ¯
      </Button>
      <Button 
        variant="{currentView === 'albums' ? 'default' : 'ghost'}"
        class="w-full justify-start"
        style="background-color: {currentView === 'albums' ? 'var(--renren-blue)' : ''};"
        on:click={() => handleClick('albums')}
      >
        ğŸ“· ç›¸å†Œ
      </Button>
      <Button 
        variant="{currentView === 'blogs' ? 'default' : 'ghost'}"
        class="w-full justify-start"
        style="background-color: {currentView === 'blogs' ? 'var(--renren-blue)' : ''};"
        on:click={() => handleClick('blogs')}
      >
        ğŸ“ æ—¥å¿—
      </Button>
      <Button 
        variant="{currentView === 'share' ? 'default' : 'ghost'}"
        class="w-full justify-start"
        style="background-color: {currentView === 'share' ? 'var(--renren-blue)' : ''};"
        on:click={() => handleClick('share')}
      >
        ğŸ”„ åˆ†äº«
      </Button>
      <Button 
        variant="{currentView === 'games' ? 'default' : 'ghost'}"
        class="w-full justify-start"
        style="background-color: {currentView === 'games' ? 'var(--renren-blue)' : ''};"
        on:click={() => handleClick('games')}
      >
        ğŸ® æ¸¸æˆ
      </Button>
    </nav>
  </CardContent>
</Card>

<Card>
  <CardHeader>
    <h3 class="font-bold">åº”ç”¨</h3>
  </CardHeader>
  <CardContent class="p-4 pt-0">
    <div class="grid grid-cols-2 gap-2">
      <Button variant="ghost" size="sm" class="text-xs p-2 h-auto">
        ğŸš— æŠ¢è½¦ä½
      </Button>
      <Button variant="ghost" size="sm" class="text-xs p-2 h-auto">
        ğŸ’° æœ‹å‹ä¹°å–
      </Button>
      <Button variant="ghost" size="sm" class="text-xs p-2 h-auto">
        ğŸŒ¾ å¤©å¤©å†œåœº
      </Button>
      <Button variant="ghost" size="sm" class="text-xs p-2 h-auto">
        ğŸ„ é˜³å…‰ç‰§åœº
      </Button>
    </div>
  </CardContent>
</Card>